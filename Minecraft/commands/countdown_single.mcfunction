summon falling_block ~ ~1 ~ {Time:1,BlockState:{Name:"command_block",Properties:{facing:"down"}},TileEntityData:{auto:1,Command:"kill @e[type=armor_stand,tag=CMDSPACER,sort=nearest,limit=30]"},Passengers:[{id:armor_stand,Invisible:1,Tags:["CMDSPACER"],Passengers:[{id:falling_block,Time:1,BlockState:{Name:"chain_command_block",Properties:{facing:"down",conditional:"true"}},TileEntityData:{Command:"title @a[distance=0..] title \"\""},Passengers:[{id:armor_stand,Invisible:1,Tags:["CMDSPACER"],Passengers:[{id:falling_block,Time:1,BlockState:{Name:"chain_command_block",Properties:{facing:"down"}},TileEntityData:{Command:"execute if score ticks countdown = red countdown run title @a[distance=0..] subtitle \"30 seconds remaining\""},Passengers:[{id:armor_stand,Invisible:1,Tags:["CMDSPACER"],Passengers:[{id:falling_block,Time:1,BlockState:{Name:"chain_command_block",Properties:{facing:"down"}},TileEntityData:{Command:"execute if score ticks countdown matches 0 run title @a[distance=0..] title \"Time's up!\""},Passengers:[{id:armor_stand,Invisible:1,Tags:["CMDSPACER"],Passengers:[{id:falling_block,Time:1,BlockState:{Name:"chain_command_block",Properties:{facing:"down"}},TileEntityData:{Command:"execute if score ticks countdown matches 0.. run bossbar set countdown name [{\"text\":\"Time remaining: \"},{\"score\":{\"name\":\"minutes\",\"objective\":\"countdown\"}},{\"text\":\" minutes \"},{\"score\":{\"name\":\"seconds\",\"objective\":\"countdown\"}},{\"text\":\" seconds\"}]"},Passengers:[{id:armor_stand,Invisible:1,Tags:["CMDSPACER"],Passengers:[{id:falling_block,Time:1,BlockState:{Name:"chain_command_block",Properties:{facing:"down"}},TileEntityData:{Command:"execute if score ticks countdown > yellow countdown run bossbar set countdown color green"},Passengers:[{id:armor_stand,Invisible:1,Tags:["CMDSPACER"],Passengers:[{id:falling_block,Time:1,BlockState:{Name:"chain_command_block",Properties:{facing:"down"}},TileEntityData:{Command:"execute if score ticks countdown <= yellow countdown if score ticks countdown > red countdown run bossbar set countdown color yellow"},Passengers:[{id:armor_stand,Invisible:1,Tags:["CMDSPACER"],Passengers:[{id:falling_block,Time:1,BlockState:{Name:"chain_command_block",Properties:{facing:"down"}},TileEntityData:{Command:"execute if score ticks countdown <= red countdown run bossbar set countdown color red"},Passengers:[{id:armor_stand,Invisible:1,Tags:["CMDSPACER"],Passengers:[{id:falling_block,Time:1,BlockState:{Name:"chain_command_block",Properties:{facing:"down"}},TileEntityData:{Command:"execute store result bossbar countdown max run scoreboard players get max countdown"},Passengers:[{id:armor_stand,Invisible:1,Tags:["CMDSPACER"],Passengers:[{id:falling_block,Time:1,BlockState:{Name:"chain_command_block",Properties:{facing:"down"}},TileEntityData:{Command:"execute if score max countdown < ticks countdown run scoreboard players operation max countdown = ticks countdown"},Passengers:[{id:armor_stand,Invisible:1,Tags:["CMDSPACER"],Passengers:[{id:falling_block,Time:1,BlockState:{Name:"chain_command_block",Properties:{facing:"down"}},TileEntityData:{Command:"execute if score ticks countdown matches -1 run scoreboard players set max countdown 1"},Passengers:[{id:armor_stand,Invisible:1,Tags:["CMDSPACER"],Passengers:[{id:falling_block,Time:1,BlockState:{Name:"chain_command_block",Properties:{facing:"down"}},TileEntityData:{Command:"execute store result bossbar countdown value run scoreboard players get ticks countdown"},Passengers:[{id:armor_stand,Invisible:1,Tags:["CMDSPACER"],Passengers:[{id:falling_block,Time:1,BlockState:{Name:"chain_command_block",Properties:{facing:"down"}},TileEntityData:{Command:"execute if score ticks countdown matches 0.. run bossbar set countdown players @a[distance=0..]"},Passengers:[{id:armor_stand,Invisible:1,Tags:["CMDSPACER"],Passengers:[{id:falling_block,Time:1,BlockState:{Name:"chain_command_block",Properties:{facing:"down"}},TileEntityData:{Command:"execute if score ticks countdown matches -1 run bossbar set countdown players"},Passengers:[{id:armor_stand,Invisible:1,Tags:["CMDSPACER"],Passengers:[{id:falling_block,Time:1,BlockState:{Name:"chain_command_block",Properties:{facing:"down"}},TileEntityData:{Command:"execute if score ticks countdown matches 0.. run scoreboard players operation seconds countdown /= tickspersecond countdown"},Passengers:[{id:armor_stand,Invisible:1,Tags:["CMDSPACER"],Passengers:[{id:falling_block,Time:1,BlockState:{Name:"chain_command_block",Properties:{facing:"down"}},TileEntityData:{Command:"execute if score ticks countdown matches 0.. run scoreboard players operation seconds countdown %= ticksperminute countdown"},Passengers:[{id:armor_stand,Invisible:1,Tags:["CMDSPACER"],Passengers:[{id:falling_block,Time:1,BlockState:{Name:"chain_command_block",Properties:{facing:"down"}},TileEntityData:{Command:"execute if score ticks countdown matches 0.. run scoreboard players operation seconds countdown = ticks countdown"},Passengers:[{id:armor_stand,Invisible:1,Tags:["CMDSPACER"],Passengers:[{id:falling_block,Time:1,BlockState:{Name:"chain_command_block",Properties:{facing:"down"}},TileEntityData:{Command:"execute if score ticks countdown matches 0.. run scoreboard players operation minutes countdown /= ticksperminute countdown"},Passengers:[{id:armor_stand,Invisible:1,Tags:["CMDSPACER"],Passengers:[{id:falling_block,Time:1,BlockState:{Name:"chain_command_block",Properties:{facing:"down"}},TileEntityData:{Command:"execute if score ticks countdown matches 0.. run scoreboard players operation minutes countdown = ticks countdown"},Passengers:[{id:armor_stand,Invisible:1,Tags:["CMDSPACER"],Passengers:[{id:falling_block,Time:1,BlockState:{Name:"repeating_command_block",Properties:{facing:"down"}},TileEntityData:{auto:1,Command:"execute if score ticks countdown matches 0.. run scoreboard players remove ticks countdown 1"},Passengers:[{id:armor_stand,Invisible:1,Tags:["CMDSPACER"],Passengers:[{id:falling_block,Time:1,BlockState:{Name:"chain_command_block",Properties:{facing:"down"}},TileEntityData:{Command:"scoreboard players add ticks countdown 10"},Passengers:[{id:armor_stand,Invisible:1,Tags:["CMDSPACER"],Passengers:[{id:falling_block,Time:1,BlockState:{Name:"chain_command_block",Properties:{facing:"down"}},TileEntityData:{Command:"scoreboard players set yellow countdown 1200"},Passengers:[{id:armor_stand,Invisible:1,Tags:["CMDSPACER"],Passengers:[{id:falling_block,Time:1,BlockState:{Name:"chain_command_block",Properties:{facing:"down"}},TileEntityData:{Command:"scoreboard players set red countdown 600"},Passengers:[{id:armor_stand,Invisible:1,Tags:["CMDSPACER"],Passengers:[{id:falling_block,Time:1,BlockState:{Name:"chain_command_block",Properties:{facing:"down"}},TileEntityData:{Command:"scoreboard players set ticksperminute countdown 1200"},Passengers:[{id:armor_stand,Invisible:1,Tags:["CMDSPACER"],Passengers:[{id:falling_block,Time:1,BlockState:{Name:"chain_command_block",Properties:{facing:"down"}},TileEntityData:{Command:"scoreboard players set tickspersecond countdown 20"},Passengers:[{id:armor_stand,Invisible:1,Tags:["CMDSPACER"],Passengers:[{id:falling_block,Time:1,BlockState:{Name:"chain_command_block",Properties:{facing:"down"}},TileEntityData:{Command:"scoreboard players set max countdown 1"},Passengers:[{id:armor_stand,Invisible:1,Tags:["CMDSPACER"],Passengers:[{id:falling_block,Time:1,BlockState:{Name:"chain_command_block",Properties:{facing:"down"}},TileEntityData:{Command:"scoreboard players set minutes countdown 1"},Passengers:[{id:armor_stand,Invisible:1,Tags:["CMDSPACER"],Passengers:[{id:falling_block,Time:1,BlockState:{Name:"chain_command_block",Properties:{facing:"down"}},TileEntityData:{Command:"scoreboard players set seconds countdown 1"},Passengers:[{id:armor_stand,Invisible:1,Tags:["CMDSPACER"],Passengers:[{id:falling_block,Time:1,BlockState:{Name:"chain_command_block",Properties:{facing:"down"}},TileEntityData:{Command:"scoreboard players set ticks countdown 1"},Passengers:[{id:armor_stand,Invisible:1,Tags:["CMDSPACER"],Passengers:[{id:falling_block,Time:1,BlockState:{Name:"chain_command_block",Properties:{facing:"down"}},TileEntityData:{Command:"bossbar add countdown \"Timer\""},Passengers:[{id:armor_stand,Invisible:1,Tags:["CMDSPACER"],Passengers:[{id:falling_block,Time:1,BlockState:{Name:"command_block",Properties:{facing:"down"}},TileEntityData:{auto:1,Command:"scoreboard objectives add countdown dummy"}}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}
